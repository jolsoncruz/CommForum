{{>jumbotron}}

<!-- START OF MODAL SECTION -->
<!-- EDIT POST -->
<div class="modal fade" id="modalEditPost" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
    	<div class="modal-content">
      		<div class="modal-header text-center">
        		<h4 class="modal-title w-100 font-weight-bold">Edit Post</h4>
        		<button type="button" class="close" data-dismiss="modal" id="editPostClose" aria-label="Close">
          			<span aria-hidden="true">&times;</span>
        		</button>
      		</div>
	   		<form>
		      	<div class="modal-body mx-3">
		      		<input id="modalReviewRef" name="modalReviewRef" hidden>
			        <div class="md-form mt-2 mb-4">
			        	<label>Review Content</label>
			       		<textarea class="form-control validate" name="modalCommentContent" id="modalCommentContent" rows="3" required></textarea>
			        </div>
			     	<div class="md-form mb-4">
			     		<label>Professor</label>
			           <input type="text" id="modalEditPostProfName" class="form-control" readonly>
			        </div>
					<div class="md-form mb-4">
						<label>Course</label>
			           <input type="text" id="modalEditPostCourse" class="form-control" readonly>
			        </div>
			        <p id="msgEd" class="text-danger mb-0 mt-2 text-center"></p>
		      	</div>
			    <div class="modal-footer d-flex justify-content-center">
			 	   <button type="submit" id ="savePost" class="btn btn-primary btn-sm text-white">Save Post</button>
			    </div>
	    	</form>
		</div>
	</div>
</div>

<!-- DELETE POST -->
<div class="modal fade" id="modalDeletePost" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
      		<div class="modal-header text-center">
        		<h4 class="modal-title w-100 font-weight-bold">Delete Post</h4>
        		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
        		  <span aria-hidden="true">&times;</span>
       			</button>
      		</div>
      		<div class="modal-body mx-3">
        		<div class="survey-head text-center"> 
              		<p><span class="font-weight-bold">Warning:</span> Deleting a post means the post's comments will also be deleted, <span class="font-weight-bold">and this action cannot be undone</span></p>
        		</div>
      		</div>
      		<div class="modal-body mx-3">
        		<h5 class = "text-center"><span class="font-weight-bold">Are you sure you want to delete this post?</span></h5>
       		</div>
    		<div class="modal-footer d-flex justify-content-center">
        		<button  class="btn btn-primary btn-sm text-white">Delete Post</button>
      		</div>
      		<p id="msgDel" class="text-danger mb-0 mt-2 text-center"></p>
    	</div>
  	</div>
</div>
<!-- END OF MODAL SECTION -->

<div class="row mt-sm-4 mt-md-0">
	<div class="col-sm-12 col-md-8">
    	<table class="table table-hover table-light mb-5">
			<thead class="thead-green">
			    <tr>
			       	<th scope="col"></th>
			       	<th scope="col">Review</th>
			       	<th scope="col">Course</th>
			       	<th scope="col">Reviewer</th>
			       	<th scope="col" class="text-center">Action</th>
		    	</tr>
			</thead>
		    <tbody>
			    {{#each reviews}}
					<tr>
				      	<th scope="row"></th>
				  	    <td><span class="d-inline-block text-truncate" style="max-width: 200px;">{{this.reviewContent}}</span></td>
				      	<td>{{this.profCourse}}</td>
				       	<td>{{this.studentRef.studentName}}</td>
				       	<td class="text-center">
				       		<button class="btn btn-primary btn-sm text-white dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Action</button>
              				<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
				  	       		<button class="dropdown-item" class="text-center" data-toggle="modal" id= "modalEditPostSubmit" data-target="#modalEditPost" 
				  	       		data-id= "{{this._id}}"
				  	       		data-content = "{{this.reviewContent}}"
				  	       		data-course = "{{this.profCourse}}" 
				  	       		data-profname = "{{this.profRef.profName}}"
				  	       		> Edit Post </button>
					        	<a class="dropdown-item" class="text-center" data-toggle="modal" data-target="#modalDeletePost">Delete Post</a>
					        	<a class="dropdown-item" class="text-center" href="/reviews/{{this._id}}">Go to Review </a>
					     	</div>
					     </td>
			    	</tr>
		      	{{/each}}
			</tbody>
		</table>
    </div>

    <div class="col-sm-12 col-md-4">
    	<div class="card mb-4">
    		<div class="card-header bg-gradient font-weight-bold">
    			ID Number: {{session.idNum}}
  			</div>
	      	<div class="card-body">
		      	<form>
		        	<div class="form-group row">
		            	<label for="changePassword" class="col-sm-4 col-form-label">Current Password</label>
		            	<input type="password" class="form-control col-sm-7 mt-2" placeholder="Current Password"> 
		        	</div>
		          	<div class="form-group row">
		          		<label for="changePassword" class="col-sm-4 col-form-label">New Password</label>
		          		<input type="password" class="form-control col-sm-7 mt-2" placeholder="New Password"> 
		       	  	</div>
		          	<div class="form-group row">
		            	<label for="changePassword" class="col-sm-4 col-form-label">Confirm Password</label>
		            	<input type="password" class="form-control col-sm-7 mt-2" placeholder="Confirm Password"> 
		          	</div>
		          	<div class="text-center">
		            	<button type="submit" class="btn btn-primary mt-0 mb-2">Change Password</button>
		          	</div>
		    	</form>
		    	<p id="msg" class="text-danger mb-0 mt-2 text-center"></p>
	    	</div>
		</div>
	</div>
</div>